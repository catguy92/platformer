def on_overlap_tile(sprite3, location2):
    game.game_over(False)
    sprites.destroy(sprite3)
scene.on_overlap_tile(SpriteKind.player,
    assets.tile("""
        myTile10
    """),
    on_overlap_tile)

def on_a_pressed():
    global jumpcount
    if not (hero_main):
        return
    if jumpcount < 1:
        hero_main.vy = -150
    jumpcount = 1
controller.A.on_event(ControllerButtonEvent.PRESSED, on_a_pressed)

def on_overlap_tile2(sprite, location):
    global current_level
    info.change_score_by(10)
    current_level += 1
    startlevel(0)
scene.on_overlap_tile(SpriteKind.player,
    assets.tile("""
        myTile4
    """),
    on_overlap_tile2)

def on_on_overlap(sprite4, otherSprite2):
    if hero_main.bottom >= otherSprite2.bottom:
        print("overlap1 " + ("" + str(hero_main)) + " " + ("" + str(otherSprite2)))
        info.change_life_by(-1)
        sprite4.say_text("\"ouch\"", 1000, True)
        animation.run_image_animation(otherSprite2,
            [img("""
                    . . . . c c c c c c . . . . . . 
                                . . . c 6 7 7 7 7 6 c . . . . . 
                                . . c 7 7 7 7 7 7 7 7 c . . . . 
                                . c 6 7 7 7 7 7 7 7 7 6 c . . . 
                                . c 7 c 6 6 6 6 c 7 7 7 c . . . 
                                . f 7 6 f 6 6 f 6 7 7 7 f . . . 
                                . f 7 7 7 7 7 7 7 7 7 7 f . . . 
                                . . f 7 7 7 7 6 c 7 7 6 f c . . 
                                . . . f c c c c 7 7 6 f 7 7 c . 
                                . . c 7 2 7 7 7 6 c f 7 7 7 7 c 
                                . c 7 7 2 7 7 c f c 6 7 7 6 c c 
                                c 1 1 1 1 7 6 f c c 6 6 6 c . . 
                                f 1 1 1 1 1 6 6 c 6 6 6 6 f . . 
                                f 6 1 1 1 1 1 6 6 6 6 6 c f . . 
                                . f 6 1 1 1 1 1 1 6 6 6 f . . . 
                                . . c c c c c c c c c f . . . .
                """),
                img("""
                    . . . c c c c c c . . . . . . . 
                                . . c 6 7 7 7 7 6 c . . . . . . 
                                . c 7 7 7 7 7 7 7 7 c . . . . . 
                                c 6 7 7 7 7 7 7 7 7 6 c . . . . 
                                c 7 c 6 6 6 6 c 7 7 7 c . . . . 
                                f 7 6 f 6 6 f 6 7 7 7 f . . . . 
                                f 7 7 7 7 7 7 7 7 7 7 f . . . . 
                                . f 7 7 7 7 6 c 7 7 6 f . . . . 
                                . . f c c c c 7 7 6 f c c c . . 
                                . . c 6 2 7 7 7 f c c 7 7 7 c . 
                                . c 6 7 7 2 7 7 c f 6 7 7 7 7 c 
                                . c 1 1 1 1 7 6 6 c 6 6 6 c c c 
                                . c 1 1 1 1 1 6 6 6 6 6 6 c . . 
                                . c 6 1 1 1 1 1 6 6 6 6 6 c . . 
                                . . c 6 1 1 1 1 1 7 6 6 c c . . 
                                . . . c c c c c c c c c c . . .
                """),
                img("""
                    . . . . . c c c c c c c . . . . 
                                . . . . c 6 7 7 7 7 7 6 c . . . 
                                . . . c 7 c 6 6 6 6 c 7 6 c . . 
                                . . c 6 7 6 f 6 6 f 6 7 7 c . . 
                                . . c 7 7 7 7 7 7 7 7 7 7 c . . 
                                . . f 7 8 1 f f 1 6 7 7 7 f . . 
                                . . f 6 f 1 f f 1 f 7 7 7 f . . 
                                . . . f f 2 2 2 2 f 7 7 6 f . . 
                                . . c c f 2 2 2 2 7 7 6 f c . . 
                                . c 7 7 7 7 7 7 7 7 c c 7 7 c . 
                                c 7 1 1 1 7 7 7 7 f c 6 7 7 7 c 
                                f 1 1 1 1 1 7 6 f c c 6 6 6 c c 
                                f 1 1 1 1 1 1 6 6 c 6 6 6 c . . 
                                f 6 1 1 1 1 1 6 6 6 6 6 6 c . . 
                                . f 6 1 1 1 1 1 6 6 6 6 c . . . 
                                . . f f c c c c c c c c . . . .
                """),
                img("""
                    . . . . . . c c c c c c c . . . 
                                . . . . . c f f 6 6 f f 7 c . . 
                                . . . . c 7 6 6 6 6 6 6 7 6 c . 
                                . . . c 7 7 7 7 7 7 7 7 7 7 c . 
                                . . . c 7 8 1 f f 1 6 7 7 7 c . 
                                . . . f 6 f 1 f f 1 f 7 7 7 f . 
                                . . . f 6 f 2 2 2 2 f 7 7 7 f . 
                                . . c c 6 f 2 2 2 2 f 7 7 6 f . 
                                . c 7 7 7 7 2 2 2 2 7 7 f c . . 
                                c 7 1 1 1 7 7 7 7 7 c c 7 7 c . 
                                f 1 1 1 1 1 7 7 7 f c 6 7 7 7 c 
                                f 1 1 1 1 1 1 6 f c c 6 6 6 c c 
                                f 6 1 1 1 1 1 6 6 c 6 6 6 c . . 
                                f 6 1 1 1 1 1 6 6 6 6 6 6 c . . 
                                . f 6 1 1 1 1 6 6 6 6 6 c . . . 
                                . . f f c c c c c c c c . . . .
                """),
                img("""
                    . . . . . . c c c c c c c . . . 
                                . . . . . c f f 6 6 f f 7 c . . 
                                . . . . c 7 6 6 6 6 6 6 7 6 c . 
                                . . . c 7 7 7 7 7 7 7 7 7 7 c . 
                                . . . c 7 8 1 f f 1 6 7 7 7 c . 
                                . . . f 6 f 1 f f 1 f 7 7 7 f . 
                                . . . f 6 f 2 2 2 2 f 7 7 7 f . 
                                . . c c 6 f 2 2 2 2 f 7 7 6 f . 
                                . c 7 7 7 7 2 2 2 2 7 7 f c . . 
                                c 7 1 1 1 7 7 7 7 7 c c 7 7 c . 
                                f 1 1 1 1 1 7 7 7 f c 6 7 7 7 c 
                                f 1 1 1 1 1 1 6 f c c 6 6 6 c c 
                                f 6 1 1 1 1 1 6 6 c 6 6 6 c . . 
                                f 6 1 1 1 1 1 6 6 6 6 6 6 c . . 
                                . f 6 1 1 1 1 6 6 6 6 6 c . . . 
                                . . f f c c c c c c c c . . . .
                """),
                img("""
                    . . . . . . . . . . . . . . . . 
                                . . . . . . . . . . . . . . . . 
                                . . . . . . . . . . . c c c c c 
                                . . . . . . . . . c c 7 7 7 6 c 
                                . . . . . . . . c c 7 7 7 c c . 
                                . . . . . . . . c 6 7 7 c . . . 
                                . . . . . . . . c 6 6 6 c . . . 
                                . . . c c c c c c 6 6 6 c c . . 
                                . . c 6 7 7 7 7 6 c c 6 6 6 c . 
                                . c 7 7 7 7 7 7 7 7 c 6 6 6 c c 
                                c 6 7 7 7 7 7 7 7 7 6 c 6 6 6 c 
                                c 7 c 6 6 6 6 c 7 7 7 c 6 6 6 c 
                                f 7 c c 6 6 c c 7 7 7 f 6 6 6 c 
                                f 7 6 f 6 6 f 6 7 7 7 f 6 6 6 c 
                                . c 1 c f f 1 c 7 6 f 6 6 c c . 
                                . c c c c c c c c c c c c . . .
                """),
                img("""
                    . . . . . . . . . . . c c c c c 
                                . . . . . . . . . c c 7 7 7 6 c 
                                . . . . . . . . c c 7 7 7 c c . 
                                . . . . . . . . c 6 7 7 c . . . 
                                . . . . . . . . c 6 6 6 c . . . 
                                . . . . . . . . c 6 6 6 c c . . 
                                . . . c c c c c c c 6 6 6 c c . 
                                . . c 6 7 7 7 7 6 c c 6 6 6 c . 
                                . c 7 7 7 7 7 7 7 7 c 6 6 6 c c 
                                c 6 7 7 7 7 7 7 7 7 6 c 6 6 6 c 
                                c 7 c 6 6 6 6 c 7 7 7 c 6 6 6 c 
                                f 7 c c 6 6 c c 7 7 7 f 6 6 6 c 
                                f 7 6 f 6 6 f 6 7 7 7 f 6 6 6 c 
                                . f 7 7 7 7 7 7 7 7 6 f 6 6 c . 
                                . c 1 c f f 1 c 7 6 f 6 6 c c . 
                                . c c c c c c c c c c c c . . .
                """)],
            100,
            False)
        pause(700)
        sprites.destroy(otherSprite2)
    else:
        print("overlap2 " + ("" + str(hero_main)) + " " + ("" + str(otherSprite2)))
        sprites.destroy(otherSprite2)
        info.change_score_by(3)
        music.play(music.create_song(hex("""
                00780004080200
            """)),
            music.PlaybackMode.UNTIL_DONE)
        animation.run_image_animation(otherSprite2,
            [img("""
                . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . . . . . . . . . . . . . . . 
                            . . 6 6 6 6 6 6 6 6 6 6 6 6 . . 
                            . . 7 7 7 7 7 7 7 7 7 7 7 7 . .
            """)],
            2000,
            False)
sprites.on_overlap(SpriteKind.player, SpriteKind.enemy, on_on_overlap)

def on_on_overlap2(sprite2, otherSprite):
    info.change_score_by(1)
    sprites.destroy(otherSprite)
    music.play(music.create_song(hex("""
            00780004080200
        """)),
        music.PlaybackMode.UNTIL_DONE)
sprites.on_overlap(SpriteKind.player, SpriteKind.food, on_on_overlap2)

def startlevel(difficulity: number):
    global jumpcount, coin, enemy_snake
    info.set_life(3)
    controller.move_sprite(hero_main, 100, 0)
    scene.camera_follow_sprite(hero_main)
    hero_main.ay = 200
    jumpcount = 0
    print("starting level " + ("" + str(difficulity)))
    if current_level == 0:
        tiles.set_current_tilemap(tilemap("""
            level4
        """))
    else:
        tiles.set_current_tilemap(tilemap("""
            level6
        """))
        sprites.destroy_all_sprites_of_kind(SpriteKind.enemy)
        sprites.destroy_all_sprites_of_kind(SpriteKind.food)
    tiles.place_on_random_tile(hero_main, assets.tile("""
        myTile9
    """))
    for value in tiles.get_tiles_by_type(assets.tile("""
        myTile9
    """)):
        tiles.set_tile_at(value, assets.tile("""
            transparency16
        """))
    for value2 in tiles.get_tiles_by_type(assets.tile("""
        myTile6
    """)):
        coin = sprites.create(img("""
                . . b b b b . . 
                            . b 5 5 5 5 b . 
                            b 5 d 3 3 d 5 b 
                            b 5 3 5 5 1 5 b 
                            c 5 3 5 5 1 d c 
                            c d d 1 1 d d c 
                            . f d d d d f . 
                            . . f f f f . .
            """),
            SpriteKind.food)
        animation.run_image_animation(coin,
            [img("""
                    . . b b b b . . 
                                . b 5 5 5 5 b . 
                                b 5 d 3 3 d 5 b 
                                b 5 3 5 5 1 5 b 
                                c 5 3 5 5 1 d c 
                                c d d 1 1 d d c 
                                . f d d d d f . 
                                . . f f f f . .
                """),
                img("""
                    . . b b b . . . 
                                . b 5 5 5 b . . 
                                b 5 d 3 d 5 b . 
                                b 5 3 5 1 5 b . 
                                c 5 3 5 1 d c . 
                                c 5 d 1 d d c . 
                                . f d d d f . . 
                                . . f f f . . .
                """),
                img("""
                    . . . b b . . . 
                                . . b 5 5 b . . 
                                . . b 1 1 b . . 
                                . . b 5 5 b . . 
                                . . b d d b . . 
                                . . c d d c . . 
                                . . c 3 3 c . . 
                                . . . f f . . .
                """),
                img("""
                    . . . b b . . . 
                                . . b 5 5 b . . 
                                . b 5 1 d 5 b . 
                                . b 5 1 3 5 b . 
                                . c d 1 3 5 c . 
                                . c d d 1 5 c . 
                                . . f d d f . . 
                                . . . f f . . .
                """),
                img("""
                    . . . b b b . . 
                                . . b 5 5 5 b . 
                                . b 5 d 3 d 5 b 
                                . b 5 1 5 3 5 b 
                                . c d 1 5 3 5 c 
                                . c d d 1 d 5 c 
                                . . f d d d f . 
                                . . . f f f . .
                """)],
            150,
            True)
        tiles.place_on_tile(coin, value2)
        tiles.set_tile_at(value2, assets.tile("""
            transparency16
        """))
    for value22 in tiles.get_tiles_by_type(assets.tile("""
        myTile5
    """)):
        tiles.set_tile_at(value22, assets.tile("""
            transparency16
        """))
        enemy_snake = sprites.create(img("""
                . . . c c c c c c . . . . . . . 
                            . . c 6 7 7 7 7 6 c . . . . . . 
                            . c 7 7 7 7 7 7 7 7 c . . . . . 
                            c 6 7 7 7 7 7 7 7 7 6 c . . . . 
                            c 7 c 6 6 6 6 c 7 7 7 c . . . . 
                            f 7 6 f 6 6 f 6 7 7 7 f . . . . 
                            f 7 7 7 7 7 7 7 7 7 7 f . . . . 
                            . f 7 7 7 7 6 c 7 7 6 f . . . . 
                            . . f c c c c 7 7 6 f c c c . . 
                            . . c 6 2 7 7 7 f c c 7 7 7 c . 
                            . c 6 7 7 2 7 7 c f 6 7 7 7 7 c 
                            . c 1 1 1 1 7 6 6 c 6 6 6 c c c 
                            . c 1 1 1 1 1 6 6 6 6 6 6 c . . 
                            . c 6 1 1 1 1 1 6 6 6 6 6 c . . 
                            . . c 6 1 1 1 1 1 7 6 6 c c . . 
                            . . . c c c c c c c c c c . . .
            """),
            SpriteKind.enemy)
        animation.run_image_animation(enemy_snake,
            [img("""
                    . . . c c c c c c . . . . . . . 
                                . . c 6 7 7 7 7 6 c . . . . . . 
                                . c 7 7 7 7 7 7 7 7 c . . . . . 
                                c 6 7 7 7 7 7 7 7 7 6 c . . . . 
                                c 7 c 6 6 6 6 c 7 7 7 c . . . . 
                                f 7 6 f 6 6 f 6 7 7 7 f . . . . 
                                f 7 7 7 7 7 7 7 7 7 7 f . . . . 
                                . f 7 7 7 7 6 c 7 7 6 f . . . . 
                                . . f c c c c 7 7 6 f c c c . . 
                                . . c 6 2 7 7 7 f c c 7 7 7 c . 
                                . c 6 7 7 2 7 7 c f 6 7 7 7 7 c 
                                . c 1 1 1 1 7 6 6 c 6 6 6 c c c 
                                . c 1 1 1 1 1 6 6 6 6 6 6 c . . 
                                . c 6 1 1 1 1 1 6 6 6 6 6 c . . 
                                . . c 6 1 1 1 1 1 7 6 6 c c . . 
                                . . . c c c c c c c c c c . . .
                """),
                img("""
                    . . . . c c c c c c . . . . . . 
                                . . . c 6 7 7 7 7 6 c . . . . . 
                                . . c 7 7 7 7 7 7 7 7 c . . . . 
                                . c 6 7 7 7 7 7 7 7 7 6 c . . . 
                                . c 7 c 6 6 6 6 c 7 7 7 c . . . 
                                . f 7 6 f 6 6 f 6 7 7 7 f . . . 
                                . f 7 7 7 7 7 7 7 7 7 7 f . . . 
                                . . f 7 7 7 7 6 c 7 7 6 f c . . 
                                . . . f c c c c 7 7 6 f 7 7 c . 
                                . . c 7 2 7 7 7 6 c f 7 7 7 7 c 
                                . c 7 7 2 7 7 c f c 6 7 7 6 c c 
                                c 1 1 1 1 7 6 f c c 6 6 6 c . . 
                                f 1 1 1 1 1 6 6 c 6 6 6 6 f . . 
                                f 6 1 1 1 1 1 6 6 6 6 6 c f . . 
                                . f 6 1 1 1 1 1 1 6 6 6 f . . . 
                                . . c c c c c c c c c f . . . .
                """)],
            500,
            True)
        tiles.place_on_tile(enemy_snake, value22)

def on_life_zero():
    sprites.destroy(hero_main)
    game.game_over(False)
info.on_life_zero(on_life_zero)

enemy_snake: Sprite = None
coin: Sprite = None
jumpcount = 0
hero_main: Sprite = None
current_level = 0
scene.set_background_color(9)
scene.set_background_image(img("""
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999991111199999999999999999999999999999999999999999999999999999999999999999999999991111119999999999999999999999999999999999999999999999999999
        9999999999999999999911111111111119999999999999999999999999999999999999999999999999999999999999999999111111111199999999999999999999999999999999999999999999999999
        9999999999999999991111111111111111199999999999999999999999999999999999999999999999999999999999999111111111111199999999999999999999999999999999999999999999999999
        9999999999999999911111111111111111199999999999999999999999999999999999999999999999999999999999911111111111111111111999999999999999999999999999999999999999999999
        9999999999999999111111111111111111199999999999999999999999999999999999999999999999999999999999111111111111111111111199999999999999999999999999999999999999999999
        9999999999999999111111111111111111199991111111111999999999999999999999999999999999999999999991111111111111111111111119999999999999999999999999999999999999999999
        9999999999999999111111111111111111111111111111111119999999999999999999999999999999999999999991111111111111111111111111999999999999999999999999999999999999999999
        9999999999999999111111111111111111111111111111111111999999999999999999999999999999999999999911111111111111111111111111999999999999999999999999999999999999999999
        9999999999999999111111111111111111111111111111111111199999999999999999999999999999991111111111111111111111111111111111199999999999999999999999999999999999999999
        9999999999999999111111111111111111111111111111111111199999999999999999999999999999111111111111111111111111111111111111119999999999999999999999999999999999999999
        9999999999999999111111111111111111111111111111111111199999999999999999999999999991111111111111111111111111111111111111119999999999999999999999999999999999999999
        9999999999999111111111111111111111111111111111111111199999999999999999999999999991111111111111111111111111111111111111119999999999999999999999999999999999999999
        9999999999991111111111111111111111111111111111111111999999999999999999999999999991111111111111111111111111111111111111119999999999999999999999999999999999999999
        9999999999911111111111111111111111111111111111111119999999999999999999999999999991111111111111111111111111111111111111119999999999999999999999999999999999999999
        9999999999911111111111111111111111111111111111111199999999999999999999999999999991111111111111111111111111111111111111199999999999999999999999999999999999999999
        9999999999911111111111111111111111111111111111111999999999999999999999999999999999111111111111111111111111111111111111199999999999999999999999999999999999999999
        9999999999911111111111111111111111111111111111199999999999999999999999999999999999911111111111111111111111111111111119999999999999999999999999999999999999999999
        9999999999911111111111111111111111111111111199999999999999999999999999999999999999999111111111111111111111111111111999999999999999999999999999999999999999999999
        9999999999991111111111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111119999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111119999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111199999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111199999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111119999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999666699999999999999999999999991111111111111111111119999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999996666666699999999999999999999999111111111111111111199999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999966666666666999999999999999999999911111111111111111999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999666666666666669999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999996666666666666666999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999966666666666666666669999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999666666666666666666666699999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999666666666666666666666669999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999996666666666666666666666666699999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999996666999999999999999999999966666666666666666666666666666999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999996666666669999999999999999999666666666666666666666666666666699999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999666666666666999999999999999999666666666666666666666666666666666669999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999996666666666666699999999999999996666666666666666666666666666666666666669999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999666666666666666669999999999999966666666666666666666666666666666666666666669999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999996666666666666666666999999999999666666666666666666666666666666666666666666666669999999999999999999
        9999999999999999999999999999999999999999999999999999999999999666666666666666666666999999999996666666666666666666666666666666666666666666666666999999999999999999
        9999999999999999999999999999999999999999999999999999999999996666666666666666666666699999996666666666666666666666666666666666666666666666666666699999999999999999
        9999999999999999999999999999999999999999999999999999999999666666666666666666666666666999966666666666666666666666666666666666666666666666666666666999999999996666
        9999999999999999999999999999999999999999999999999999999996666666666666666666666666666666666666666666666666666666666666666666666666666666666666666669999999966666
        9999999999999999999999999999999999999999999999999999999966666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666999996666666
        9999999999999999999996666999999999999999999999999999996666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        9999999999999999996666666666999999999999999999999996666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        9999999999999666666666666666669999999999999999996666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        9999999999966666666666666666666699999999999996666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        9999999996666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        9999996666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        9996666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        9666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666668866666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666666888866666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666666688888886666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6666666666666666688888888886666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
        6688866666666668888888888886666666666666666666666666666666666666666666666666666666666666888888866666666666666666666666666666666666666666666666666666666666666666
        8888866666666888888888888888666666666666666666666666666666666666666666666666666666666668888888866666666666666666666666666666666666666666666666666666666666666666
        8888886666668888888888888888666666666666666666666666666666666666666666666666666666666688888888886666666666666666666666666666666666666666666666666666666666666666
        8888886666688888888888888888666666666666666666666666666666666666666666666666666666666888888888886666666666666666666666666666666666666666666666666666666666666666
        8888886668888888888888888888866666666666666666666666666666666666666666666666666666666888888888888666666666666666666666666666666666666666666666666666666666668888
        8888888688888888888888888888866666666666666666688666666666666666666666666666666666668888888888888666666666666666666666666666666666666666666666666666666666888888
        8888888888888888888888888888886666666666666688888888666666666666666666666666666666688888888888888866666666666666666666666666666666666666666666666666666888888888
        8888888888888888888888888888888666666666666888888888866666666666666666666666666666888888888888888886666666666666666666666666666666666666666666666666668888888888
        8888888888888888888888888888888866666666688888888888866666666666666666666666666666888888888888888886666666666666666666666666666666666666666666666666688888888888
        8888888888888888888888888888888886666668888888888888866666666666666666666666666668888888888888888888666666666666666666666666666666666666666666666666888888888888
        8888888888888888888888888888888888888888888888888888886666666666666666666666666668888888888888888888886666666666666666666666666666666666666666666668888888888888
        8888888888888888888888888888888888888888888888888888886666666666666666666666666688888888888888888888888888886666666666666666666666666666666666666688888888888888
        8888888888888888888888888888888888888888888888888888886666666666666666666666888888888888888888888888888888888888866666666666666666666666666666666888888888888888
        8888888888888888888888888888888888888888888888888888886666666666666666666688888888888888888888888888888888888888886666666666666666666666666666666888888888888888
        8888888888888888888888888888888888888888888888888888886666666666666666688888888888888888888888888888888888888888886666666666666666666666666666668888888888888888
        8888888888888888888888888888888888888888888888888888886666666666666688888888888888888888888888888888888888888888888666666666666666666666666666888888888888888888
        8888888888888888888888888888888888888888888888888888886666666666888888888888888888888888888888888888888888888888888666666666666666666666666668888888888888888888
        8888888888888888888888888888888888888888888888888888886666666688888888888888888888888888888888888888888888888888888866666666666666666666666668888888888888888888
        8888888888888888888888888888888888888888888888888888888666666888888888888888888888888888888888888888888888888888888866666666666666666666666688888888888888888888
        8888888888888888888888888888888888888888888888888888888666668888888888888888888888888888888888888888888888888888888866666666666666666666666888888888888888888888
        8888888888888888888888888888888888888888888888888888888666688888888888888888888888888888888888888888888888888888888886666666666666666666666888888888888888888888
        8888888888888888888888888888888888888888888888888888888666888888888888888888888888888888888888888888888888888888888888666666666666666666688888888888888888888888
        8888888888888888888888888888888888888888888888888888888668888888888888888888888888888888888888888888888888888888888888866666666666666688888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
"""))
startlevel(0)
current_level = 0
hero_main = sprites.create(img("""
        . . . . . . f f f f f f . . . . 
            . . . . f f e e e e f 2 f . . . 
            . . . f f e e e e f 2 2 2 f . . 
            . . . f e e e f f e e e e f . . 
            . . . f f f f e e 2 2 2 2 e f . 
            . . . f e 2 2 2 f f f f e 2 f . 
            . . f f f f f f f e e e f f f . 
            . . f f e 4 4 e b f 4 4 e e f . 
            . . f e e 4 d 4 1 f d d e f . . 
            . . . f e e e 4 d d d d f . . . 
            . . . . f f e e 4 4 4 e f . . . 
            . . . . . 4 d d e 2 2 2 f . . . 
            . . . . . e d d e 2 2 2 f . . . 
            . . . . . f e e f 4 5 5 f . . . 
            . . . . . . f f f f f f . . . . 
            . . . . . . . f f f . . . . . .
    """),
    SpriteKind.player)

def on_on_update():
    hero_main.set_image(img("""
        . . . . . . f f f f f f . . . . 
                . . . . f f e e e e f 2 f . . . 
                . . . f f e e e e f 2 2 2 f . . 
                . . . f e e e f f e e e e f . . 
                . . . f f f f e e 2 2 2 2 e f . 
                . . . f e 2 2 2 f f f f e 2 f . 
                . . f f f f f f f e e e f f f . 
                . . f f e 4 4 e b f 4 4 e e f . 
                . . f e e 4 d 4 1 f d d e f . . 
                . . . f e e e 4 d d d d f . . . 
                . . . . f f e e 4 4 4 e f . . . 
                . . . . . 4 d d e 2 2 2 f . . . 
                . . . . . e d d e 2 2 2 f . . . 
                . . . . . f e e f 4 5 5 f . . . 
                . . . . . . f f f f f f . . . . 
                . . . . . . . f f f . . . . . .
    """))
    if hero_main.vx < 0:
        hero_main.image.flip_x()
game.on_update(on_on_update)

# TODO: optimize, this is not efficient

def on_forever():
    global jumpcount
    if hero_main and hero_main.is_hitting_tile(CollisionDirection.BOTTOM):
        jumpcount = 0
forever(on_forever)
